{{ cookiecutter.project_name }}
==============================================================================

------------------------------------------------------------------------------

Table of Contents
-----------------

1. [Overview][#1]

    1.1. [Project Organization][#1.1]

    1.2. [References][#1.2]

2. [Getting Started][#2]

3. [Project Conventions][#3]

### Appendices

A. [Project Environment][#Appendix.A]

B. [Jupyter Quick Reference][#Appendix.B]

C. [Running Automated Tests][#Appendix.C]

------------------------------------------------------------------------------

## 1. Overview

A description of the project.

### 1.1. Project Organization

```
├── README.md        <- README for the project
├── LICENSE          <- license for contents of project
├── Makefile         <- Makefile with useful commands (e.g., `make test`)
├{% if cookiecutter.enable_julia == 'yes' %}── Project.toml     <- Julia project configuration file
├{% endif %}── pyproject.toml   <- Python project configuration file
│
├── bin              <- project scripts and programs
│
├── data             <- project data. See "Project Conventions" section for
│   │                   data organization and processing conventions.
│   │
│   ├── final        <- data directly used to generate key results (e.g., data for figures
│   │                   in reports)
│   ├── processed    <- processed data that is ready for use
│   └── raw          <- source data in its original format
│
├── docs             <- project documentation
│   │
│   ├── references   <- reference materials (e.g., research articles, data manuals)
│   └── reports      <- research reports
│
├── extras           <- optional environment configuration files, etc.
│
├── notebooks        <- Jupyter notebooks. See "Project Conventions" section for notebook
│                       naming conventions.
│
├── src              <- source code for the project
│
├── tests            <- test code for the project
│
└── tox.ini          <- tox file with settings for running tox
```

## 1.2. References

* List of key project references

------------------------------------------------------------------------------

## 2. Getting Started

* ___Prerequisites___

  * Install Python 3.9 (or a later version).
  {% if cookiecutter.enable_julia == 'yes' %}
  * Install Julia 1.6 (or a later version).
  {% endif %}
  * Install [Poetry](https://python-poetry.org/).

    * __Note__. This project uses `poetry` instead of `pip` for management of
      Python package dependencies.

* ___Optional___. Set up the project to use `direnv` to manage the environment
  (for both Python and the shell).

  * ___Prerequisite___. Install `direnv`.

  * Copy `extras/dot-envrc` to the project root directory, and rename it to
    `.envrc`.

    ```shell
    $ cd $PROJECT_ROOT_DIR
    $ cp extras/dot-envrc .envrc
    ```

  * Grant permission to direnv to execute the .envrc file.

    ```shell
    $ direnv allow
    ```

* Install the Python packages required for the project.

  ```shell
  $ poetry install
  ```

  __Note__. If you are not working within an existing Python environment (e.g.,
  created by `direnv`), `poetry` will automatically create a dedicated Python
  environment for the project.
{% if cookiecutter.enable_julia == 'yes' %}
* Set up the Julia environment.

  ```julia
  julia> ]

  (...) pkg> instantiate
  ```
{% endif %}
* Download project data from remote storage.

  ```shell
  $ dvc pull
  ```

* Do research! Make discoveries! Advance knowledge!

------------------------------------------------------------------------------

## 3. Project Conventions

### Guidelines for Organizing Data

* All data should be placed in the `data` directory.

* Data should be organized into the following subdirectories.

  * `raw`: source data in its original format. Data in this directiory data
    should never be modified.

  * `processed`: processed data that is ready for use. All data in this
    directory should be generated by a deterministic, automateable process
    (possibly multi-step) that uses ___only raw data___ as input.

  * `final`: data directly used to generate key results (e.g., data for figures
    in reports). All data in this directory should be generated by a
    deterministic, automateable process (possibly multi-step) that uses
    processed and/or raw data as input.

### Jupyter Notebook Conventions

* Jupyter notebooks should be placed in the `notebooks` directory and should
  be named using the following convention:

  `YYYY-MM-DD-AUTHOR_INITIALS-BRIEF_DESCRIPTION.ipynb`

  where the date used for the notebook is approximately the date the original
  experiment was performed.

  * Example: `2019-01-17-KC-information_theory_analysis.ipynb`

* Depending on the nature of the project, it may be useful to organize
  notebooks into sub-directories (e.g., by team member, by sub-project).

------------------------------------------------------------------------------

## Appendix A. Project Environment

__Note__. This section only applies if you are using `direnv` to manage your
project environment.

### Environment Variables

If `direnv` is enabled, the following environment variables are automatically
set whenever you change into the project directory.

* `DATA_DIR`: path to `data` directory

* `SRC_DIR`: path to `src` directory

* `PYTHONPATH`: search paths for Python packages and modules
{% if cookiecutter.enable_julia == 'yes' %}
* `JULIA_LOAD_PATH`: search paths for Julia packages and modules
{% endif %}
* `MLFLOW_TRACKING_URI`: path to directory where MLflow stores run data

### Customizing the Project Environment

The following variables can be set in the `.envrc` file to customize the
project environment.

* `PATH_EXTRA`: space-delimited list of paths to add to the `PATH` environment
  variable

* `PYTHONPATH_EXTRA`: space-delimited list of paths to add to the `PYTHONPATH`
  environment variable

* `JULIA_LOAD_PATH_EXTRA`: space-delimited list of paths to add to the
  `JULIA_LOAD_PATH` environment variable

* `MLFLOW_TRACKING_URI`: URI of MLflow tracking server. By default,
  `MLFLOW_TRACKING_URI` is set to `/PROJECT/ROOT/mlruns`.

------------------------------------------------------------------------------

## Appendix B. Jupyter Quick Reference

### Using JupyterLab

* Launch a JupyterLab session.

  ```shell
  $ jupyter-lab
  ```

* Use the GUI to create Jupyter notebooks, edit and run Jupyter notebooks,
  manage files in the file system, etc.

### Using a Jupyter Notebooks Session

* Launch a Jupyter Notebook session.

  ```shell
  $ jupyter notebook
  ```

* Use the GUI to create Jupyter notebooks, edit and run Jupyter notebooks,
  manage files in the file system, etc.

### Opening a Single Jupyter Notebook

* Launch a Jupyter Notebook session for a specific Jupyter notebook.

  ```shell
  $ jupyter notebook NOTEBOOK.ipynb
  ```

  where `NOTEBOOK.ipynb` is the name of the Jupyter notebook to open.

------------------------------------------------------------------------------

## Appendix C. Running Automated Tests

This project is configured to support (1) automated testing of code in the `src`
directory and (2) analysis of the coverage of the source code by the tests.

* Run all of the tests.

  ```shell
  $ make test
  ```

* Run all of the tests in fail-fast mode (i.e., stop after the first failing
  test).

  ```shell
  $ make fast-test
  ```

* After running all tests, run `pylint` on all source code files.

  ```shell
  $ make full-test
  ```

------------------------------------------------------------------------------

[-----------------------------INTERNAL LINKS-----------------------------]: #

[#1]: #1-overview
[#1.1]: #11-project-organization
[#1.2]: #12-references

[#2]: #2-getting-started

[#3]: #3-project-conventions
[#3.1]: #31-jupyter-notebook-conventions
[#3.2]: #32-guidelines-for-organizing-data

[#Appendix.A]: #appendix-a-project-environment
[#Appendix.B]: #appendix-b-jupyter-quick-reference
[#Appendix.C]: #appendix-c-running-automated-tests
